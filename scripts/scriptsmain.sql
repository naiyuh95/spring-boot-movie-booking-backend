
CREATE SCHEMA `moviedb` DEFAULT CHARACTER SET utf8mb4 ;

USE  moviedb;
CREATE TABLE customer (customer_id int primary key NOT NULL AUTO_INCREMENT, 
                        customer_name VARCHAR(50) NOT NULL,
                        contact_number INT NOT NULL,
                        email VARCHAR(50) NOT NULL UNIQUE
                        );   

CREATE TABLE movie (movie_id int primary key NOT NULL AUTO_INCREMENT,  
						movie_name VARCHAR(50) NOT NULL,
                        description VARCHAR(200) NOT NULL,
                        duration INT NOT NULL,
                        genre  VARCHAR(50) NOT NULL,
						release_date  DATE NOT NULL,
                        movie_poster_link VARCHAR(200) NOT NULL,
                        start_time DATETIME NOT NULL
                        );  
 CREATE TABLE seat (seat_id int primary key NOT NULL AUTO_INCREMENT,  
                        seat_type VARCHAR(50) NOT NULL,
                        seat_number int NOT NULL,
                        price double NOT NULL,
                        seat_name VARCHAR(50) NOT NULL,
                        movie_id int NOT NULL,
                        CONSTRAINT seat_movieid_fk FOREIGN KEY (movie_id) REFERENCES movie(movie_id));   
                        

CREATE TABLE reservation (reservation_id int primary key NOT NULL AUTO_INCREMENT,  
                        reservation_confirmed_date DATETIME,
                        reservation_start_timestamp DATETIME,
                        reservation_end_timestamp DATETIME,
                        reservation_status varchar(50) NOT NULL,
                        customer_id int,
                        seat_id int NOT NULL,
                        CONSTRAINT reservation_seat_id_fk FOREIGN KEY (seat_id) REFERENCES seat(seat_id),   
                        CONSTRAINT reservation_customerid_fk FOREIGN KEY (customer_id) REFERENCES customer(customer_id));   

ALTER TABLE reservation ADD INDEX (seat_id);
ALTER TABLE reservation ADD INDEX (reservation_status);



-- 6 halls -> will be using only one              
INSERT INTO customer( customer_id,  customer_name,contact_number,email)
				VALUES  
                (1,'customer1',91234567,'customerOne@mail.com');

INSERT INTO movie( movie_id,  movie_name, description,duration, genre,release_date,start_time,movie_poster_link)
				VALUES  
                (1,'Dune','Testing...',120,'Adventure','2021-11-30','2021-11-30 19:00:00','https://backend-movie-pic.s3.ap-southeast-1.amazonaws.com/dune.jpg'),
                (2,'Jaws','A police chief, a marine scientist and a fisherman spring into action after a white shark terrorises the inhabitants of Amity, a quiet island.',124,'Thriller','2021-9-18','2021-9-20 19:00:00','https://backend-movie-pic.s3.ap-southeast-1.amazonaws.com/jaw.jpg'),
                (3,'Jaws','A police chief, a marine scientist and a fisherman spring into action after a white shark terrorises the inhabitants of Amity, a quiet island.',124,'Thriller','2021-9-18','2021-9-20 20:00:00','https://backend-movie-pic.s3.ap-southeast-1.amazonaws.com/jaw.jpg'),
				(4,'Spiderman: Far From Home','Peter Parker, the beloved superhero Spider-Man, faces four destructive elemental monsters while on holiday in Europe. Soon, he receives help from Mysterio, a fellow hero with mysterious origins.',129,'Action','2021-9-18','2021-9-23 18:00:00','https://backend-movie-pic.s3.ap-southeast-1.amazonaws.com/spider-man-far-from-home-official-movie-posters.jpg'),
				(5,'Spiderman: Far From Home','Peter Parker, the beloved superhero Spider-Man, faces four destructive elemental monsters while on holiday in Europe. Soon, he receives help from Mysterio, a fellow hero with mysterious origins.',129,'Action','2021-9-18','2021-9-22 21:00:00','https://backend-movie-pic.s3.ap-southeast-1.amazonaws.com/spider-man-far-from-home-official-movie-posters.jpg');
                
INSERT INTO seat ( seat_id,seat_type,seat_number,price,movie_id,seat_name)
				VALUES  
                (1,'N',1,10,1,'A1'),
                (2,'N',2,10,1,'A2'),
                (3,'N',3,10,1,'A3'),
                (4,'N',4,10,1,'A4'),
                (5,'N',5,10,1,'A5'),
                (6,'N',6,10,1,'A6'),
                (7,'N',7,10,1,'B1'),
                (8,'N',8,10,1,'B2'),
                (9,'N',9,10,1,'B3'),
                (10,'N',10,10,1,'B4'),
                (11,'N',11,10,1,'B5'),
                (12,'V',12,20,1,'B6'),
				(13,'N',13,10,1,'C1'),
                (14,'N',14,10,1,'C2'),
                (15,'N',15,10,1,'C3'),
                (16,'N',16,10,1,'C4'),
                (17,'N',17,10,1,'C5'),
                (18,'V',18,20,1,'C6'),
				(19,'N',19,10,1,'D1'),
                (20,'N',20,10,1,'D2'),
                (21,'N',21,10,1,'D3'),
                (22,'N',22,10,1,'D4'),
                (23,'N',23,10,1,'D5'),
                (24,'V',24,20,1,'D6');
INSERT INTO seat ( seat_id,seat_type,seat_number,price,movie_id,seat_name)
				VALUES  
                (25,'N',1,10,2,'A1'),
                (26,'N',2,10,2,'A2'),
                (27,'N',3,10,2,'A3'),
                (28,'N',4,10,2,'A4'),
                (29,'N',5,10,2,'A5'),
                (30,'N',6,10,2,'A6'),
                (31,'N',7,10,2,'B1'),
                (32,'N',8,10,2,'B2'),
                (33,'N',9,10,2,'B3'),
                (34,'N',10,10,2,'B4'),
                (35,'N',11,10,2,'B5'),
                (36,'V',12,20,2,'B6'),
				(37,'N',13,10,2,'C1'),
                (38,'N',14,10,2,'C2'),
                (39,'N',15,10,2,'C3'),
                (40,'N',16,10,2,'C4'),
                (41,'N',17,10,2,'C5'),
                (42,'V',18,20,2,'C6'),
				(43,'N',19,10,2,'D1'),
                (44,'N',20,10,2,'D2'),
                (45,'N',21,10,2,'D3'),
                (46,'N',22,10,2,'D4'),
                (47,'N',23,10,2,'D5'),
                (48,'V',24,20,2,'D6');
INSERT INTO seat ( seat_id,seat_type,seat_number,price,movie_id,seat_name)
				VALUES  
                (49,'N',1,10,3,'A1'),
                (50,'N',2,10,3,'A2'),
                (51,'N',3,10,3,'A3'),
                (52,'N',4,10,3,'A4'),
                (53,'N',5,10,3,'A5'),
                (54,'N',6,10,3,'A6'),
                (55,'N',7,10,3,'B1'),
                (56,'N',8,10,3,'B2'),
                (57,'N',9,10,3,'B3'),
                (58,'N',10,10,3,'B4'),
                (59,'N',11,10,3,'B5'),
                (60,'V',12,20,3,'B6'),
				(61,'N',13,10,3,'C1'),
                (62,'N',14,10,3,'C2'),
                (63,'N',15,10,3,'C3'),
                (64,'N',16,10,3,'C4'),
                (65,'N',17,10,3,'C5'),
                (66,'V',18,20,3,'C6'),
				(67,'N',19,10,3,'D1'),
                (68,'N',20,10,3,'D2'),
                (69,'N',21,10,3,'D3'),
                (70,'N',22,10,3,'D4'),
                (71,'N',23,10,3,'D5'),
                (72,'V',24,20,3,'D6');
INSERT INTO seat ( seat_id,seat_type,seat_number,price,movie_id,seat_name)
				VALUES  
                (73,'N',1,10,4,'A1'),
                (74,'N',2,10,4,'A2'),
                (75,'N',3,10,4,'A3'),
                (76,'N',4,10,4,'A4'),
                (77,'N',5,10,4,'A5'),
                (78,'N',6,10,4,'A6'),
                (79,'N',7,10,4,'B1'),
                (80,'N',8,10,4,'B2'),
                (81,'N',9,10,4,'B3'),
                (82,'N',10,10,4,'B4'),
                (83,'N',11,10,4,'B5'),
                (84,'V',12,20,4,'B6'),
				(85,'N',13,10,4,'C1'),
                (86,'N',14,10,4,'C2'),
                (87,'N',15,10,4,'C3'),
                (88,'N',16,10,4,'C4'),
                (89,'N',17,10,4,'C5'),
                (90,'V',18,20,4,'C6'),
				(91,'N',19,10,4,'D1'),
                (92,'N',20,10,4,'D2'),
                (93,'N',21,10,4,'D3'),
                (94,'N',22,10,4,'D4'),
                (95,'N',23,10,4,'D5'),
                (96,'V',24,20,4,'D6');
INSERT INTO seat ( seat_id,seat_type,seat_number,price,movie_id,seat_name)
				VALUES  
                (97,'N',1,10,5,'A1'),
                (98,'N',2,10,5,'A2'),
                (99,'N',3,10,5,'A3'),
                (100,'N',4,10,5,'A4'),
                (101,'N',5,10,5,'A5'),
                (102,'N',6,10,5,'A6'),
                (103,'N',7,10,5,'B1'),
                (104,'N',8,10,5,'B2'),
                (105,'N',9,10,5,'B3'),
                (106,'N',10,10,5,'B4'),
                (107,'N',11,10,5,'B5'),
                (108,'V',12,20,5,'B6'),
				(109,'N',13,10,5,'C1'),
                (110,'N',14,10,5,'C2'),
                (111,'N',15,10,5,'C3'),
                (112,'N',16,10,5,'C4'),
                (113,'N',17,10,5,'C5'),
                (114,'V',18,20,5,'C6'),
				(115,'N',19,10,5,'D1'),
                (116,'N',20,10,5,'D2'),
                (117,'N',21,10,5,'D3'),
                (118,'N',22,10,5,'D4'),
                (119,'N',23,10,5,'D5'),
                (120,'V',24,20,5,'D6');

		


INSERT INTO reservation(reservation_id,reservation_confirmed_date,reservation_start_timestamp,reservation_end_timestamp,reservation_status,customer_id,seat_id) 
VALUES(1,"2021-12-18 19:00:00","2021-12-18 20:00:00","2021-12-18 20:10:00","PENDING",NULL,1),
(2,"2021-12-18 19:00:00","2021-12-18 20:00:00","2021-12-18 20:10:00","PENDING",NULL,2),
(3,NULL,NULL,NULL,"OPEN",NULL,3),
(4,NULL,NULL,NULL,"OPEN",NULL,4),
(5,NULL,NULL,NULL,"OPEN",NULL,5),
(6,NULL,NULL,NULL,"OPEN",NULL,6),
(7,NULL,NULL,NULL,"OPEN",NULL,7),
(8,NULL,NULL,NULL,"OPEN",NULL,8),
(9,NULL,NULL,NULL,"OPEN",NULL,9),
(10,NULL,NULL,NULL,"OPEN",NULL,10),
(11,NULL,NULL,NULL,"OPEN",NULL,11),
(12,NULL,NULL,NULL,"OPEN",NULL,12),
(13,NULL,NULL,NULL,"OPEN",NULL,13),
(14,NULL,NULL,NULL,"OPEN",NULL,14),
(15,NULL,NULL,NULL,"OPEN",NULL,15),
(16,NULL,NULL,NULL,"OPEN",NULL,16),
(17,NULL,NULL,NULL,"OPEN",NULL,17),
(18,NULL,NULL,NULL,"OPEN",NULL,18),
(19,NULL,NULL,NULL,"OPEN",NULL,19),
(20,NULL,NULL,NULL,"OPEN",NULL,20),
(21,NULL,NULL,NULL,"OPEN",NULL,21),
(22,NULL,NULL,NULL,"OPEN",NULL,22),
(23,NULL,NULL,NULL,"OPEN",NULL,23),
(24,NULL,NULL,NULL,"OPEN",NULL,24),
(25,NULL,NULL,NULL,"OPEN",NULL,25),
(26,NULL,NULL,NULL,"OPEN",NULL,26),
(27,NULL,NULL,NULL,"OPEN",NULL,27),
(28,NULL,NULL,NULL,"OPEN",NULL,28),
(29,NULL,NULL,NULL,"OPEN",NULL,29),
(30,NULL,NULL,NULL,"OPEN",NULL,30),
(31,NULL,NULL,NULL,"OPEN",NULL,31),
(32,NULL,NULL,NULL,"OPEN",NULL,32),
(33,NULL,NULL,NULL,"OPEN",NULL,33),
(34,NULL,NULL,NULL,"OPEN",NULL,34),
(35,NULL,NULL,NULL,"OPEN",NULL,35),
(36,NULL,NULL,NULL,"OPEN",NULL,36),
(37,NULL,NULL,NULL,"OPEN",NULL,37),
(38,NULL,NULL,NULL,"OPEN",NULL,38),
(39,NULL,NULL,NULL,"OPEN",NULL,39),
(40,NULL,NULL,NULL,"OPEN",NULL,40),
(41,NULL,NULL,NULL,"OPEN",NULL,41),
(42,NULL,NULL,NULL,"OPEN",NULL,42),
(43,NULL,NULL,NULL,"OPEN",NULL,43),
(44,NULL,NULL,NULL,"OPEN",NULL,44),
(45,NULL,NULL,NULL,"OPEN",NULL,45),
(46,NULL,NULL,NULL,"OPEN",NULL,46),
(47,NULL,NULL,NULL,"OPEN",NULL,47),
(48,NULL,NULL,NULL,"OPEN",NULL,48),
(49,NULL,NULL,NULL,"OPEN",NULL,49),
(50,NULL,NULL,NULL,"OPEN",NULL,50),
(51,NULL,NULL,NULL,"OPEN",NULL,51),
(52,NULL,NULL,NULL,"OPEN",NULL,52),
(53,NULL,NULL,NULL,"OPEN",NULL,53),
(54,NULL,NULL,NULL,"OPEN",NULL,54),
(55,NULL,NULL,NULL,"OPEN",NULL,55),
(56,NULL,NULL,NULL,"OPEN",NULL,56),
(57,NULL,NULL,NULL,"OPEN",NULL,57),
(58,NULL,NULL,NULL,"OPEN",NULL,58),
(59,NULL,NULL,NULL,"OPEN",NULL,59),
(60,NULL,NULL,NULL,"OPEN",NULL,60),
(61,NULL,NULL,NULL,"OPEN",NULL,61),
(62,NULL,NULL,NULL,"OPEN",NULL,62),
(63,NULL,NULL,NULL,"OPEN",NULL,63),
(64,NULL,NULL,NULL,"OPEN",NULL,64),
(65,NULL,NULL,NULL,"OPEN",NULL,65),
(66,NULL,NULL,NULL,"OPEN",NULL,66),
(67,NULL,NULL,NULL,"OPEN",NULL,67),
(68,NULL,NULL,NULL,"OPEN",NULL,68),
(69,NULL,NULL,NULL,"OPEN",NULL,69),
(70,NULL,NULL,NULL,"OPEN",NULL,70),
(71,NULL,NULL,NULL,"OPEN",NULL,71),
(72,NULL,NULL,NULL,"OPEN",NULL,72),
(73,NULL,NULL,NULL,"OPEN",NULL,73),
(74,NULL,NULL,NULL,"OPEN",NULL,74),
(75,NULL,NULL,NULL,"OPEN",NULL,75),
(76,NULL,NULL,NULL,"OPEN",NULL,76),
(77,NULL,NULL,NULL,"OPEN",NULL,77),
(78,NULL,NULL,NULL,"OPEN",NULL,78),
(79,NULL,NULL,NULL,"OPEN",NULL,79),
(80,NULL,NULL,NULL,"OPEN",NULL,80),
(81,NULL,NULL,NULL,"OPEN",NULL,81),
(82,NULL,NULL,NULL,"OPEN",NULL,82),
(83,NULL,NULL,NULL,"OPEN",NULL,83),
(84,NULL,NULL,NULL,"OPEN",NULL,84),
(85,NULL,NULL,NULL,"OPEN",NULL,85),
(86,NULL,NULL,NULL,"OPEN",NULL,86),
(87,NULL,NULL,NULL,"OPEN",NULL,87),
(88,NULL,NULL,NULL,"OPEN",NULL,88),
(89,NULL,NULL,NULL,"OPEN",NULL,89),
(90,NULL,NULL,NULL,"OPEN",NULL,90),
(91,NULL,NULL,NULL,"OPEN",NULL,91),
(92,NULL,NULL,NULL,"OPEN",NULL,92),
(93,NULL,NULL,NULL,"OPEN",NULL,93),
(94,NULL,NULL,NULL,"OPEN",NULL,94),
(95,NULL,NULL,NULL,"OPEN",NULL,95),
(96,NULL,NULL,NULL,"OPEN",NULL,96),
(97,NULL,NULL,NULL,"OPEN",NULL,97),
(98,NULL,NULL,NULL,"OPEN",NULL,98),
(99,NULL,NULL,NULL,"OPEN",NULL,99),
(100,NULL,NULL,NULL,"OPEN",NULL,100),
(101,NULL,NULL,NULL,"OPEN",NULL,101),
(102,NULL,NULL,NULL,"OPEN",NULL,102),
(103,NULL,NULL,NULL,"OPEN",NULL,103),
(104,NULL,NULL,NULL,"OPEN",NULL,104),
(105,NULL,NULL,NULL,"OPEN",NULL,105),
(106,NULL,NULL,NULL,"OPEN",NULL,106),
(107,NULL,NULL,NULL,"OPEN",NULL,107),
(108,NULL,NULL,NULL,"OPEN",NULL,108),
(109,NULL,NULL,NULL,"OPEN",NULL,109),
(110,NULL,NULL,NULL,"OPEN",NULL,110),
(111,NULL,NULL,NULL,"OPEN",NULL,111),
(112,NULL,NULL,NULL,"OPEN",NULL,112),
(113,NULL,NULL,NULL,"OPEN",NULL,113),
(114,NULL,NULL,NULL,"OPEN",NULL,114),
(115,NULL,NULL,NULL,"OPEN",NULL,115),
(116,NULL,NULL,NULL,"OPEN",NULL,116),
(117,NULL,NULL,NULL,"OPEN",NULL,117),
(118,NULL,NULL,NULL,"OPEN",NULL,118),
(119,NULL,NULL,NULL,"OPEN",NULL,119),
(120,NULL,NULL,NULL,"OPEN",NULL,120);
